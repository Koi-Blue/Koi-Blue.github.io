# 第三阶段：中级图像处理 -- 原理简述（待续）

## 1. 图像滤波

### 数学原理及意义

#### 1.1 平滑滤波
平滑滤波是一种常见的图像处理技术，用于去除噪声并改善图像质量。常用方法包括**均值滤波**和**高斯滤波**。

##### 均值滤波（Average Filtering）
均值滤波的原理是将每个像素的值替换为其邻域内像素值的平均值。对于大小为 $\( m \times n \)$ 的滤波窗口，均值滤波的数学公式为：

$$
g(x, y) = \frac{1}{m \cdot n} \sum_{i=-\frac{m}{2}}^{\frac{m}{2}} \sum_{j=-\frac{n}{2}}^{\frac{n}{2}} f(x+i, y+j)
$$

其中：
- $\( f(x, y) \)$ 是输入图像。
- $\( g(x, y) \)$ 是输出图像。

**数学意义**：均值滤波通过平滑像素值减弱图像中的高频分量（噪声），但会模糊边缘。

##### 高斯滤波（Gaussian Filtering）
高斯滤波通过高斯函数加权邻域像素值来平滑图像，其权重由以下公式确定：

$$
G(x, y) = \frac{1}{2\pi\sigma^2} \exp\left(-\frac{x^2 + y^2}{2\sigma^2}\right)
$$

滤波后的像素值计算为：

$$
g(x, y) = \sum_{i=-\frac{m}{2}}^{\frac{m}{2}} \sum_{j=-\frac{n}{2}}^{\frac{n}{2}} G(i, j) \cdot f(x+i, y+j)
$$

其中：
- $\( \sigma \)$ 为标准差，控制滤波强度。

**数学意义**：高斯滤波通过赋予邻域中心像素更高的权重，能够更好地保留图像边缘信息，同时去除噪声。

---

#### 1.2 边缘检测
边缘检测用于提取图像中灰度变化显著的部分，对轮廓和结构分析非常重要。

##### Sobel 边缘检测
Sobel 算子通过卷积计算图像的梯度近似值，用于检测水平和垂直边缘。其卷积核为：

**水平方向**：

$$
K_x =
\begin{bmatrix}
-1 & 0 & 1 \\
-2 & 0 & 2 \\
-1 & 0 & 1
\end{bmatrix}
$$

**垂直方向**：

$$
K_y =
\begin{bmatrix}
-1 & -2 & -1 \\
0 & 0 & 0 \\
1 & 2 & 1
\end{bmatrix}
$$

图像梯度的模长计算公式为：

$$
G = \sqrt{G_x^2 + G_y^2}
$$

其中 \( G_x \) 和 \( G_y \) 分别是水平和垂直方向的梯度。

**数学意义**：通过计算灰度梯度的变化率，Sobel 算子可以定位边缘的位置。

##### Canny 边缘检测
Canny 算法是更精确的边缘检测方法，主要步骤包括：
1. 高斯滤波平滑图像。
2. Sobel 算子计算梯度。
3. 非极大值抑制（NMS）精确定位边缘。
4. 双阈值法连接边缘。

---

#### 1.3 形态学操作
形态学操作通过结构元素修改图像形状，常用于去噪和特征提取。

##### 腐蚀（Erosion）
腐蚀操作使目标区域变小，定义为：

$$
A \ominus B = \{z \mid (B)_z \subseteq A\}
$$

其中 \( A \) 是输入图像，\( B \) 是结构元素。

##### 膨胀（Dilation）
膨胀操作使目标区域变大，定义为：

$$
A \oplus B = \{z \mid (B)_z \cap A \neq \emptyset\}
$$

**数学意义**：腐蚀去除小噪声点；膨胀填补目标区域的孔洞。

---

## 2. 特征检测

### 数学原理及意义

#### 2.1 Harris 角点检测
Harris 算子基于图像灰度变化检测角点，其响应函数为：

$$
R = \det(M) - k \cdot (\text{trace}(M))^2
$$

其中：
- \( M \) 是结构张量。
- \( k \) 是经验参数。

**数学意义**：角点是图像中特征变化显著的区域，Harris 算子通过检测结构张量的特性来识别这些区域。

---

#### 2.2 SIFT 特征提取
SIFT（尺度不变特征变换）提取图像中的关键点和描述子，其数学步骤包括：
1. 构造高斯金字塔进行多尺度分析。
2. 计算差分高斯（DoG）以检测特征点。
3. 为特征点分配方向和位置。
4. 提取特征描述子。

**数学意义**：SIFT 对图像缩放、旋转和光照变化具有不变性，适合特征匹配和目标识别。

---

#### 2.3 特征匹配
特征匹配通过比较特征描述子实现跨图像匹配。最简单的方法是暴力匹配（Brute Force Matcher），计算欧氏距离：

$$
d(p, q) = \sqrt{\sum_{i=1}^n (p_i - q_i)^2}
$$

**数学意义**：匹配过程寻找最相似的特征点，用于图像拼接、目标跟踪等任务。
